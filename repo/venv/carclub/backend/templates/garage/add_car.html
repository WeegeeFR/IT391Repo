{% extends 'base.html' %} {% block tittle %}Adding car{% endblock %}
{% block content %}
<main class="add_car-section">
    <!-- Main Form -->
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="mb-3">
            <label for="{{ form.owner.id_for_label }}" class="form-label">Owner</label>
            {{ form.owner }}
        </div>

        <div class="mb-3">
            <label for="{{ form.codriven.id_for_label }}" class="form-label">Co-driven</label>
            {{ form.codriven }}
        </div>

        <div class="mb-3">
            <label for="{{ form.brand.id_for_label }}" class="form-label">Brand</label>
            {{ form.brand }}
        </div>

        <div class="mb-3">
            <label for="{{ form.picture.id_for_label }}" class="form-label">Picture</label>
            {{ form.picture }}
        </div>

        <div class="mb-3">
            <label for="{{ form.free_form_text.id_for_label }}" class="form-label">Additional Details</label>
            {{ form.free_form_text }}
        </div>




        <div class="form-container">
            <!-- Item forms (initially hidden) -->
            <div class="tire-form" id="form1" style="display:none;">
                <h3>Left Front Form</h3>
                {{ tire_forms.0.as_p }} <!-- Form 0 -->
            </div>

            <div class="tire-form" id="form2" style="display:none;">
                <h3>Left Back Form</h3>
                {{ tire_forms.1.as_p }} <!-- Form 1 -->
            </div>

            <div class="tire-form" id="form3" style="display:none;">
                <h3>Right Front Form</h3>
                {{ tire_forms.2.as_p }} <!-- Form 2 -->
            </div>

            <div class="tire-form" id="form4" style="display:none;">
                <h3>Right Back Form</h3>
                {{ tire_forms.3.as_p }} <!-- Form 3 -->
            </div>
            <!-- Buttons to show item forms -->
            <button class="add_tire_btns" type="button" id="LeftFrontButton" onclick="showForm(1)">Add Left Front
                Tire</button>
            <button class="add_tire_btns" type="button" id="LeftBackButton" onclick="showForm(2)">Add Left Back
                Tire</button>
            <button class="add_tire_btns" type="button" id="RightFrontButton" onclick="showForm(3)">Add Right Front
                Tire</button>
            <button class="add_tire_btns" type="button" id="RightBackButton" onclick="showForm(4)">Add Right Back
                Tire</button>
        </div>

        <button type="submit" class="btn btn-primary">Create Vehicle</button>


    </form>
    <!--Javascript to deal with the four tire buttons-->
    <script>
        // JavaScript to show/hide item forms when the buttons are clicked
        function showForm(formNumber) {
            var forms = document.querySelectorAll('.tire-form');
            forms.forEach(function (form) {
                form.style.display = 'none'; //hide every form
            });
            // Show the selected form
            var selectedForm = document.getElementById('form' + formNumber);
            if (selectedForm) {
                selectedForm.style.display = 'block'; //show the selected form
            }

        }
    </script>
</main>
{% endblock %}